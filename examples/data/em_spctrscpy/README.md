# Tutorial for parsing spectroscopy data from electron microscopy

## Scope
This example combines a set of configured components of NOMAD to collect metadata
specific for electron microscopy and combine these with datasets collected in
different domain-specific file formats. Specifically, the tutorial shows how
functionalities can work together in NOMAD: A NOMAD electronic lab notebook (ELN)
instance customized for electron microscopy, the `em_spctrscpy` dataconverter
offered through the `pynxtools` NeXus parser, the `NXem` NeXus data schema, and
several NOMAD core functionalities work together to create electron-microscopy-
domain-specific NOMAD entries with respective default plots for `h5web`.

## Getting started
1. Click the respective button to execute the example.
2. Wait for NOMAD to instantiate the example for you.
3. Go to the `Uploads` section (menu bar).
4. Select the generated upload.
5. Explore its content by clicking on the arrow keys (to the right side of a file).
6. Modify the input file in the NOMAD ELN to match your dataset.
   You can also use the drag-and-drop functionality to drop your
   reconstruction and ranging definition file inside the ELN.
7. Click `save` to trigger a reprocessing of your upload.
8. Explore its content via e.g. the preview or via the `Entries`
   (select from the menu bar).

## Which input is supported by this example?
This example works with the following community file formats (BCF, EMD, DM3).
The example guides how individual data sources like signals from different detectors
can be collected and organized as `NXevent_data_em` instances using the `NXem`
NeXus data schema.

The ELN is used to collect metadata which are currently not stored in these
files including details about the specimen, the instrument, users, and some
post-processing steps.

## Which data artefacts should I expect to find?
This example upload contains the following entries:
- A schema in NOMAD's *archive.yaml* format: *nxem.schema.archive.yaml*
- A schema instance file as used and generated by NOMAD *emspctrscpy.archive.json*.
  For educational purposes this file is filled with values but it is the
  user's responsibility to check that these metadata match their dataset.
- Another schema instance file *eln_data.yaml*. This file contains a plain
  view of all entered/modified quantities including their units. This file is
  updated with clicking the `save` button. This file should not be edited
  manually. Instead, edit the schema instance using the NOMAD GUI.

## Which data schema is used?
Specifically the ELN template is configured such that its terminology matches to
the [NXem](https://fairmat-nfdi.github.io/nexus-fairmat-proposal) NeXus data schema.

## Acknowledgements
This example comes with real world datasets which were measured and characterized
by members the international electron microscopy community.
[Details can be found here:](https://www.zenodo.org/record/7908429#.ZFt6Ds5By38)
## Questions, comments, suggestions?
You are very welcome to approach us with all sorts of questions, and
feature requests. [Markus KÃ¼hbach](https://www.fairmat-nfdi.eu/fairmat/about-fairmat/team-fairmat)
is the respective contact person within the FAIRmat consortium.

## Where to go from now?
Provided the upload was successful and your NOMAD OASIS is using a working JupyterHub
configuration, you can also work, i.e. analyze your data using NOMAD.
For this you should go to `Analytics` (menu bar) and select the NOMAD Remote Tools Hub
called `north`. This service and toolset of NOMAD offers a set of preconfigured containers.
Details dependent on the specific configuration of your NOMAD OASIS.
