# Tutorial for parsing orientation microscopy data from electron microscopy

## Scope
This example combines a set of configured components of NOMAD to collect metadata
specific for electron microscopy and combine these with datasets collected in
different domain-specific file formats. Specifically, the tutorial shows how
functionalities can work together in NOMAD: A NOMAD electronic lab notebook (ELN)
instance customized for electron microscopy, the `em_om` dataconverter
offered through the `pynxtools` NeXus parser, the `NXem_ebsd` NeXus data schema, and
several NOMAD core functionalities work together to create EBSD-specific
NOMAD entries with respective default plots (inverse pole figure mappings)
for `h5web`.

## Getting started
1. Click the respective button to execute the example.
2. Wait for NOMAD to instantiate the example for you.
3. Go to the `Uploads` section (menu bar).
4. Select the generated upload.
5. Explore its content by clicking on the arrow keys (to the right side of a file).
6. Modify the input file in the NOMAD ELN to match your dataset.
   You can also use the drag-and-drop functionality to drop your file inside the ELN.
7. Click `save` to trigger a reprocessing of your upload.
8. Explore its content via e.g. the preview or via the `Entries`
   (select from the menu bar).

## Which input is supported by this example?
This example works with the following community file formats (H5OINA, HDF5 files
transcoded from EBSD-specific file formats using Matlab/MTex, and DREAM.3D).
The example is in a very early state of development. We invite users of
techniques like EBSD to contact us to improve the example and extent the
descriptive capabilities which are offered by this implementation.

The ELN is used to collect metadata which are typically not openly documented
or stored in files used by the EBSD community including foremost the specific rotation
and coordinate system conventions used, details about the specimen, the instrument,
users, calibration, and some post-processing steps.
The example and specifically its ELN template is very detailed mainly to show
the number of coordinate systems which have to be mastered for every EBSD
measurement. Users should be aware though that it is possible to store many
of the choices which are currently collected via the ELN through a predefined
file or mapping table whereby frequently used but infrequently changing metadata
could be conveniently loaded straightaway. We are looking forward to feedback
from the EBSD community also on this matter.

## Which data artefacts should I expect to find?
This example upload contains the following entries:
- A schema in NOMAD's *archive.yaml* format: *nxem_ebsd.schema.archive.yaml*
- A schema instance file as used and generated by NOMAD *em_om.archive.json*.
  For educational purposes this file is filled with values but it is the
  user's responsibility to check that these metadata match their dataset.
- Another schema instance file *eln_data.yaml*. This file contains a plain
  view of all entered/modified quantities including their units. This file is
  updated with clicking the `save` button. This file should not be edited
  manually. Instead, edit the schema instance using the NOMAD GUI.

## Which data schema is used?
Specifically the ELN template is configured such that its terminology matches to
the [NXem_ebsd](https://fairmat-nfdi.github.io/nexus-fairmat-proposal) NeXus data schema.

## Would like to participate, raise questions, comments, and suggestions?
You are very welcome to approach us with all sorts of questions, and
feature requests. [Markus KÃ¼hbach](https://www.fairmat-nfdi.eu/fairmat/about-fairmat/team-fairmat)
is the respective contact person within the FAIRmat consortium.
Feel free and [create a GitHub issue](https://github.com/FAIRmat-NFDI/pynxtools) to point us to
specific questions, experiences, or problems.

## Where to go from now?
Provided the upload was successful and your NOMAD OASIS is using a working JupyterHub
configuration, you can also work, i.e. analyze your data using NOMAD.
There are currently no specific containers for the em_om example.
For this you should go to `Analytics` (menu bar) and select the NOMAD Remote Tools Hub
called `north`. This service and toolset of NOMAD offers a set of preconfigured containers.
Details dependent on the specific configuration of your NOMAD OASIS.
